<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8"/>
    <script type="text/javascript">
  
        function createRect() {
            var svg = new HtmlDomElement('svg', "http://www.w3.org/2000/svg");
            svg.addAttr('width', 320);
            svg.addAttr('height', 320);
            svg.addAttr('viewBox', '0 0 320 320');
            var g = createGroup(svg, 45, 50);
            processJsonToTable(g);
            //CreateTable(4,g);
            //DisplayComponent(10, 10, 100, 100, svg);


            //DisplayComponent(110, 110, 100, 100, svg);
          
            document.body.appendChild(svg.elem);
        }
 

        function HtmlDomElement(tag,namespace) {
            this.elem = namespace.length > 1
                ? document.createElementNS("http://www.w3.org/2000/svg", tag)
                : document.createElement(tag);
            this.addAttr=function(key, value) {
                var _atr = document.createAttribute(key);
                _atr.value = value;
                this.elem.setAttributeNode(_atr);
            }
            this.appendChild = function(e) {

                this.elem.appendChild(e.elem);
            }

        }


        function DisplayComponent(x,y,width,height,svg) {
            this.name = 'Display';
            this.comp = createRect(svg);

            function createRect(svg) {
                var nameSpace = svg.elem.namespaceURI;

                var rect = new HtmlDomElement('rect', nameSpace);
                rect.addAttr('x', x);
                rect.addAttr('y', y);
                rect.addAttr('width',width);
                rect.addAttr('height',height);
                rect.addAttr('rx', 15);
                rect.addAttr('ry', 15);
                rect.addAttr('fill', '#95B3D7');
                rect.addAttr('draggable', 'true');
                svg.appendChild(rect);

                var nodeEnd = new HtmlDomElement('circle', nameSpace);
                nodeEnd.addAttr('cx', x+width);
                nodeEnd.addAttr('cy', y+height/2);
                nodeEnd.addAttr('r', 5);
                nodeEnd.addAttr('stroke-width', 0);
                nodeEnd.addAttr('fill', 'black');

                var nodeStart= new HtmlDomElement('circle', nameSpace);
                nodeStart.addAttr('cx', x );
                nodeStart.addAttr('cy', y + height / 2);
                nodeStart.addAttr('r', 5);
                nodeStart.addAttr('stroke-width', 0);
                nodeStart.addAttr('fill', 'black');
                svg.appendChild(nodeStart);
                svg.appendChild(nodeEnd);
                return rect;
            }
        }
        function createRectangle(x, y, width, height) {
            var rect = new HtmlDomElement('rect', "http://www.w3.org/2000/svg");
            rect.addAttr('x', x);
            rect.addAttr('y', y);
            rect.addAttr('width', width);
            rect.addAttr('height', height);
            rect.addAttr('stroke-width', 1);
            rect.addAttr('stroke', 'black');
            rect.addAttr('fill', 'transparent');
            return rect;
        }
        function createGroup(svg,x,y) {
            var g = new HtmlDomElement('g', "http://www.w3.org/2000/svg");
            //g.addAttr('x', x);
            //g.addAttr('y', y);
            svg.appendChild(g);
            return g;
        }
        function CreateTable(numberOfRow,svg) {
            var x = 0;
            var y = 0;
            var wdth = 100;
            var rowHeight = 20;
            var tbl = createRectangle(0, 0, wdth, rowHeight * (numberOfRow));
            svg.appendChild(tbl);
            for (var i = 0; i < numberOfRow; i++) {
                addRow(x, i * rowHeight, 100, rowHeight, i,svg);
            }
           
            return tbl;
        }
        function addRow(x, y, width, height,value, svg) {
            var g = createGroup(svg, x, y);
            var rect = new HtmlDomElement('rect', "http://www.w3.org/2000/svg");
            rect.addAttr('x', x);
            rect.addAttr('y', y);
            rect.addAttr('width', width);
            rect.addAttr('height', height);      
            rect.addAttr('stroke-width', .5);
            rect.addAttr('stroke', 'black');    
            rect.addAttr('fill', 'transparent');
            svg.appendChild(g);
            var text = createTextNode(x + 3, y+height-5 , value,g);
           // g.appendChild(text);
            g.appendChild(rect);
            return rect;
        }

        function createTextNode(x,y,value,svg) {
            var text = new HtmlDomElement('text', "http://www.w3.org/2000/svg");
            text.addAttr('x', x);
            text.addAttr('y', y);
            text.elem.innerHTML = value;
            svg.appendChild(text);
            return text;
        }

        function processJsonToTable(svg) {
            var data  = { name: "pankaj", year: 1983 };
            var x = 0;
            var y = 0;
            var wdth = 100;
            var rowHeight = 20;
            var tbl = createRectangle(0, 0, wdth, rowHeight * 1);
           
            var i = 0;
            for (var key in data) {
                if (data.hasOwnProperty(key)) {
                    var value = data[key];
                    if (typeof (value) == "object") { }
                    else {
                        addRow(x, i++ * rowHeight, 100, rowHeight,  key+":"+value, svg);
                    }
                }
            } tbl.addAttr("height", rowHeight * i);
            svg.appendChild(tbl);
        }
    </script>
</head>
<body>
<!--<svg width="120" height="120"
         viewBox="120 120 120 120"
         xmlns="http://www.w3.org/2000/svg">

   
    <circle cx="50" cy="50" r="5" stroke="black" stroke-width="0" fill="bkack"></circle>
</svg>-->
<script type="text/javascript">
    createRect();
</script>

    <!--<svg width="320" height="320" xmlns="http://www.w3.org/2000/svg">
        <path d="M10 315
           L 110 215
           A 30 50 0 0 1 162.55 162.45
           L 172.55 152.45
           A 30 50 -45 0 1 215.1 109.9
           L 315 10" stroke="black" fill="green" stroke-width="2" fill-opacity="0.5" />

        <path id="my_path" d="M 20,20 C 40,40 80,40 100,20" fill="transparent" />
        <text>
            <textPath xlink:href="#my_path">This text follows a curve.</textPath>
        </text>
    </svg>

    <svg width="200" height="200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <defs>
            <linearGradient id="Gradient">
                <stop offset="0" stop-color="white" stop-opacity="0" />
                <stop offset="1" stop-color="white" stop-opacity="1" />
            </linearGradient>
            <mask id="Mask">
                <rect x="0" y="0" width="200" height="200" fill="url(#Gradient)" />
            </mask>
        </defs>

        <rect x="0" y="0" width="200" height="200" fill="green" />
        <rect x="0" y="0" width="200" height="200" fill="red" mask="url(#Mask)" />
    </svg>-->
    <svg width="340" height="364">
        <g transform="translate(5,5)" style="visibility: visible; cursor: move;">
        <rect x="5" y="5" width="240" height="264" fill="#ffffff" stroke="#ff0303" pointer-events="all">
            </rect>
        <path d="M 4 50 L 245 50" fill="none" stroke="#ff0303" stroke-miterlimit="10" pointer-events="stroke"  stroke-width="1">
            
            </path>
        <path d="M 5 5 L 50 56 L 79 77 L 66 77 Z" fill="none" stroke="#ff0303" stroke-miterlimit="10" pointer-events="all"></path>
        </g>
    </svg>
    <svg width="320" height="320" xmlns="http://www.w3.org/2000/svg">
        
        <text x="10" y="20" style="fill:red;">
            Several lines:
            <tspan x="10" y="45">First line.</tspan>
            <tspan x="10" y="70">Second line.</tspan>
        </text>
    </svg>
</body>
</html>
